<!DOCTYPE html>
<html>
  <head>
    <title>Media Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
  </head>
  <body id="body">
  	<div class="container-fluid">
  		<div class="row-fluid">
	  		<div class="span2 text-center">
                <img src="img/maylene-ii.jpg" class="img-polaroid" alt="">
                <h4>Thumbnail label</h4>
                <p>Thumbnail caption...</p>
                <div class="btn-group">
		    		<a class="btn" href="#" onclick="previous();"><i class="icon-backward"></i></a>
		    		<a class="btn" href="#" onclick="stop();"><i class="icon-pause"></i></a>
		    		<a class="btn" href="#" onclick="play();"><i class="icon-play"></i></a>
		    		<a class="btn" href="#" onclick="next();"><i class="icon-forward"></i></a>
		    	</div>
		    </div>
		    <div class="span10">
		    	<table class="table table-striped table-hover">
		    		<thead>
		    			<tr>
		    				<th>Title</th>
		    				<th>Artist</th>
		    				<th>Album</th>
		    			</tr>
		    		</thead>
		    		<tbody>
		    			<tr ondblclick="changeSong(1);">
		    				<td>Cauliflower</td>
		    				<td>Dan Le Sac VS Scrubious Pip</td>
		    				<td>The Logic Of Chance</td>
		    			</tr>
		    			<tr ondblclick="changeSong(2);">
		    				<td>Five Minutes</td>
		    				<td>Dan Le Sac VS Scrubious Pip</td>
		    				<td>The Logic Of Chance</td>
		    			</tr>
		    			<tr ondblclick="changeSong(3);">
		    				<td>Great Britian</td>
		    				<td>Dan Le Sac VS Scrubious Pip</td>
		    				<td>The Logic Of Chance</td>
		    			</tr>
		    			<tr ondblclick="changeSong(4);">
		    				<td>Pretty Rave Girl</td>
		    				<td>I Am X-Ray</td>
		    				<td>Unknown</td>
		    			</tr>
		    			<tr ondblclick="changeSong(5);">
		    				<td>Thank The Watch maker</td>
		    				<td>And Then There Were None</td>
		    				<td>Who Speaks for Planet Earth?</td>
		    			</tr>
		    			<tr ondblclick="changeSong(6);">
		    				<td>Pala Tute</td>
		    				<td>Gogol Bordello</td>
		    				<td>Trans-Continental Hustle</td>
		    			</tr>
		    			<tr ondblclick="changeSong(7);">
		    				<td>Leel Lost</td>
		    				<td>Relenium</td>
		    				<td>Unknown</td>
		    			</tr>
                        <tr ondblclick="changeSong(8);">
		    				<td>Wylie</td>
		    				<td>Maylene & The Sons Of Disaster</td>
		    				<td>II</td>
		    			</tr>
                        <tr ondblclick="changeSong(9);">
                            <td>Around The World (Kid Dub Remix)</td>
                            <td>Daft Punk</td>
                            <td>Unknown</td>
                        </tr>
		    		</tbody>
		    	</table>
		    </div>
		</div>
	</div>

	<audio id="player" src="media/1.ogg" onended="next();">
			Your browser doesn't support shit.
	</audio>

	<script src="http://code.jquery.com/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>

	<script type="text/javascript" >
		var currentSong = 1;

		function changeSong(song)
		{
			var d = document.getElementById('body');
			var oldSong = document.getElementById('player');
			d.removeChild(oldSong);
			
			var newSong = document.createElement('audio');
			newSong.setAttribute('id', 'player');
			newSong.setAttribute('autoplay', 'autoplay');
			newSong.setAttribute('onended', 'next();')
			
			var source1 = document.createElement('source');
			source1.setAttribute('src', 'media/' + song + '.mp3');
			
			var source2 = document.createElement('source');
			source2.setAttribute('src', 'media/' + song + '.ogg');
			
			newSong.appendChild(source1);
			newSong.appendChild(source2);
			
			d.appendChild(newSong);

			currentSong = song;
		}

		function stop(){
			var player = $("#player")[0];

			player.pause();

			return false;
		}

		function play(){
			var player = $("#player")[0];
			player.play();
			return false;
		}

		function next(){
			changeSong(currentSong+1);
			return false;
		}

		function previous(){
			changeSong(currentSong-1);
			return false;
		}
	</script> 
  </body>
</html>